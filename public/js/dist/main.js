(()=>{var e={728:e=>{var t;window,t=function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.query=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"string"!=typeof e?e:t.querySelector(e)},t.queryAll=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"string"!=typeof e?e:Array.prototype.slice.call(t.querySelectorAll(e))},t.escapeCssIdentifier=function(e){return window.CSS&&window.CSS.escape?CSS.escape(e):e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t instanceof Element||t instanceof SVGElement?this.link=t:(this.link=document.createElement("a"),this.link.href=t)}return o(e,[{key:"getPath",value:function(){var e=this.link.pathname;return"/"!==e[0]&&(e="/"+e),e}},{key:"getAddress",value:function(){var e=this.link.pathname+this.link.search;return this.link.getAttribute("xlink:href")&&(e=this.link.getAttribute("xlink:href")),"/"!==e[0]&&(e="/"+e),e}},{key:"getHash",value:function(){return this.link.hash}}]),e}();t.default=i},function(e,t,n){"use strict";var o=function(e){return e&&e.__esModule?e:{default:e}}(n(3));e.exports=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=l(n(4)),r=l(n(5)),a=n(0),s=n(6);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,r=Array(i),l=0;l<i;l++)r[l]=arguments[l];return n=o=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),o.name="PreloadPlugin",o.onContentReplaced=function(){o.swup.preloadPages()},o.onMouseEnter=function(e){e.target===e.delegateTarget&&o.deviceSupportsHover()&&(o.swup.triggerEvent("hoverLink",e),o.preloadLink(e.delegateTarget))},o.onTouchStart=function(e){o.deviceSupportsHover()||o.preloadLink(e.delegateTarget)},o.preloadPage=function(e){var t=o.swup,n=new s.Link(e).getAddress();return new Promise((function(e,o){t.cache.exists(n)?e(t.cache.getPage(n)):(0,s.fetch)({url:n,headers:t.options.requestHeaders},(function(i){if(500===i.status)return t.triggerEvent("serverError"),void o(n);var r=t.getPageData(i);r&&r.blocks.length?(r.url=n,t.cache.cacheUrl(r),t.triggerEvent("pagePreloaded"),e(r)):o(n)}))}))},o.preloadPages=function(){(0,a.queryAll)("[data-swup-preload]").forEach((function(e){o.shouldIgnoreVisit(e.href,{el:e})||o.swup.preloadPage(e.href)}))},u(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"mount",value:function(){var e=this.swup;e.options.cache?(e._handlers.pagePreloaded=[],e._handlers.hoverLink=[],e.preloadPage=this.preloadPage,e.preloadPages=this.preloadPages,e.delegatedListeners.mouseenter=(0,r.default)(document.body,e.options.linkSelector,"mouseenter",this.onMouseEnter.bind(this),{capture:!0}),e.delegatedListeners.touchstart=(0,r.default)(document.body,e.options.linkSelector,"touchstart",this.onTouchStart.bind(this),{capture:!0}),e.preloadPages(),e.on("contentReplaced",this.onContentReplaced),e.preloadPage((0,s.getCurrentUrl)())):console.warn("PreloadPlugin: swup cache needs to be enabled for preloading")}},{key:"unmount",value:function(){var e=this.swup;e.options.cache&&(e._handlers.pagePreloaded=null,e._handlers.hoverLink=null,e.preloadPage=null,e.preloadPages=null,e.delegatedListeners.mouseenter.destroy(),e.delegatedListeners.touchstart.destroy(),e.off("contentReplaced",this.onContentReplaced))}},{key:"shouldIgnoreVisit",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).el;return"function"==typeof this.swup.shouldIgnoreVisit&&this.swup.shouldIgnoreVisit(e,{el:t})}},{key:"deviceSupportsHover",value:function(){return window.matchMedia("(hover: hover)").matches}},{key:"preloadLink",value:function(e){var t=this.swup,n=new s.Link(e).getAddress();this.shouldIgnoreVisit(e.href,{el:e})||n!==(0,s.getCurrentUrl)()&&(t.cache.exists(n)||null==t.preloadPromise&&(t.preloadPromise=t.preloadPage(n),t.preloadPromise.route=n,t.preloadPromise.catch((function(){})).finally((function(){t.preloadPromise=null}))))}}]),t}(i.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isSwupPlugin=!0}return o(e,[{key:"mount",value:function(){}},{key:"unmount",value:function(){}},{key:"_beforeMount",value:function(){}},{key:"_afterUnmount",value:function(){}}]),e}();t.default=i},function(e,t,n){"use strict";n.r(t);const o=new WeakMap;function i(e,t,n,i){var r,a;if(!e&&!o.has(t))return!1;const s=null!==(r=o.get(t))&&void 0!==r?r:new WeakMap;if(o.set(t,s),!e&&!o.has(t))return!1;const l=null!==(a=s.get(n))&&void 0!==a?a:new Set;s.set(n,l);const u=l.has(i);return e?l.add(i):l.delete(i),u&&e}t.default=function e(t,n,o,r,a){if("string"==typeof t&&(t=document.querySelectorAll(t)),!function(e){return"function"==typeof e.addEventListener}(t)){const i=Array.prototype.map.call(t,(t=>e(t,n,o,r,a)));return{destroy(){for(const e of i)e.destroy()}}}const s=t instanceof Document?t.documentElement:t,l=Boolean("object"==typeof a?a.capture:a),u=e=>{const t=function(e,t){let n=e.target;if(n instanceof Text&&(n=n.parentElement),n instanceof Element&&e.currentTarget instanceof Element){const o=n.closest(t);if(o&&e.currentTarget.contains(o))return o}}(e,n);t&&(e.delegateTarget=t,r.call(s,e))};"object"==typeof a&&delete a.once;const c=JSON.stringify({selector:n,type:o,capture:l}),d={destroy(){s.removeEventListener(o,u,a),i(!1,s,r,c)}};return i(!0,s,r,c)||s.addEventListener(o,u,a),d}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Link=t.markSwupElements=t.normalizeUrl=t.getCurrentUrl=t.transitionProperty=t.transitionEnd=t.fetch=t.getDataFromHtml=t.createHistoryRecord=t.classify=void 0;var o=f(n(7)),i=f(n(8)),r=f(n(9)),a=f(n(10)),s=f(n(11)),l=f(n(12)),u=f(n(13)),c=f(n(14)),d=f(n(15)),h=f(n(1));function f(e){return e&&e.__esModule?e:{default:e}}t.classify=o.default,t.createHistoryRecord=i.default,t.getDataFromHtml=r.default,t.fetch=a.default,t.transitionEnd=s.default,t.transitionProperty=l.default,t.getCurrentUrl=u.default,t.normalizeUrl=c.default,t.markSwupElements=d.default,t.Link=h.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.toString().toLowerCase().replace(/\s+/g,"-").replace(/\//g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");return"/"===t[0]&&(t=t.splice(1)),""===t&&(t="homepage"),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){window.history.pushState({url:e||window.location.href.split(window.location.hostname)[1],random:Math.random(),source:"swup"},document.getElementsByTagName("title")[0].innerText,e||window.location.href.split(window.location.hostname)[1])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.default=function(e,t){var n=document.createElement("html");n.innerHTML=e;var i=[];t.forEach((function(e){if(null==(0,o.query)(e,n))return console.error("Container "+e+" not found on page."),null;(0,o.queryAll)(e).length!==(0,o.queryAll)(e,n).length&&console.warn("Mismatched number of containers found on new page."),(0,o.queryAll)(e).forEach((function(t,r){(0,o.queryAll)(e,n)[r].setAttribute("data-swup",i.length),i.push((0,o.queryAll)(e,n)[r].outerHTML)}))}));var r={title:n.querySelector("title").innerText,pageClass:n.querySelector("body").className,originalContent:e,blocks:i};return n.innerHTML="",n=null,r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={url:window.location.pathname+window.location.search,method:"GET",data:null,headers:{}},i=o({},n,e),r=new XMLHttpRequest;return r.onreadystatechange=function(){4===r.readyState&&(r.status,t(r))},r.open(i.method,i.url,!0),Object.keys(i.headers).forEach((function(e){r.setRequestHeader(e,i.headers[e])})),r.send(i.data),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend?"webkitTransitionEnd":"transitionend"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend?"WebkitTransition":"transition"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return window.location.pathname+window.location.search}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(1));t.default=function(e){return new o.default(e).getAddress()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.default=function(e,t){var n=0;t.forEach((function(t){null==(0,o.query)(t,e)?console.error("Container "+t+" not found on page."):(0,o.queryAll)(t).forEach((function(i,r){(0,o.queryAll)(t,e)[r].setAttribute("data-swup",n),n++}))}))}}])},e.exports=t()},386:e=>{var t;window,t=function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cleanupAnimationClasses=t.Link=t.markSwupElements=t.normalizeUrl=t.getCurrentUrl=t.transitionProperty=t.transitionEnd=t.fetch=t.getDataFromHtml=t.createHistoryRecord=t.classify=void 0;var o=p(n(7)),i=p(n(8)),r=p(n(9)),a=p(n(10)),s=p(n(11)),l=p(n(12)),u=p(n(13)),c=p(n(14)),d=p(n(15)),h=p(n(2)),f=p(n(16));function p(e){return e&&e.__esModule?e:{default:e}}t.classify=o.default,t.createHistoryRecord=i.default,t.getDataFromHtml=r.default,t.fetch=a.default,t.transitionEnd=s.default,t.transitionProperty=l.default,t.getCurrentUrl=u.default,t.normalizeUrl=c.default,t.markSwupElements=d.default,t.Link=h.default,t.cleanupAnimationClasses=f.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.query=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"string"!=typeof e?e:t.querySelector(e)},t.queryAll=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"string"!=typeof e?e:Array.prototype.slice.call(t.querySelectorAll(e))},t.escapeCssIdentifier=function(e){return window.CSS&&window.CSS.escape?CSS.escape(e):e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t instanceof Element||t instanceof SVGElement?this.link=t:(this.link=document.createElement("a"),this.link.href=t)}return o(e,[{key:"getPath",value:function(){var e=this.link.pathname;return"/"!==e[0]&&(e="/"+e),e}},{key:"getAddress",value:function(){var e=this.link.pathname+this.link.search;return this.link.getAttribute("xlink:href")&&(e=this.link.getAttribute("xlink:href")),"/"!==e[0]&&(e="/"+e),e}},{key:"getHash",value:function(){return this.link.hash}}]),e}();t.default=i},function(e,t,n){"use strict";var o=function(e){return e&&e.__esModule?e:{default:e}}(n(4));e.exports=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=b(n(5)),a=b(n(6)),s=b(n(17)),l=b(n(18)),u=b(n(19)),c=b(n(20)),d=b(n(21)),h=b(n(22)),f=b(n(23)),p=b(n(24)),g=b(n(25)),m=n(26),v=n(1),y=n(0);function b(e){return e&&e.__esModule?e:{default:e}}var w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n={animateHistoryBrowsing:!1,animationSelector:'[class*="transition-"]',linkSelector:'a[href^="'+window.location.origin+'"]:not([data-no-swup]), a[href^="/"]:not([data-no-swup]), a[href^="#"]:not([data-no-swup])',cache:!0,containers:["#swup"],requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},plugins:[],skipPopStateHandling:function(e){return!(e.state&&"swup"===e.state.source)}},i=o({},n,t);this._handlers={animationInDone:[],animationInStart:[],animationOutDone:[],animationOutStart:[],animationSkipped:[],clickLink:[],contentReplaced:[],disabled:[],enabled:[],openPageInNewTab:[],pageLoaded:[],pageRetrievedFromCache:[],pageView:[],popState:[],samePage:[],samePageWithHash:[],serverError:[],transitionStart:[],transitionEnd:[],willReplaceContent:[]},this.scrollToElement=null,this.preloadPromise=null,this.options=i,this.plugins=[],this.transition={},this.delegatedListeners={},this.boundPopStateHandler=this.popStateHandler.bind(this),this.cache=new a.default,this.cache.swup=this,this.loadPage=s.default,this.renderPage=l.default,this.triggerEvent=u.default,this.on=c.default,this.off=d.default,this.updateTransition=h.default,this.getAnimationPromises=p.default,this.getPageData=g.default,this.getAnchorElement=f.default,this.log=function(){},this.use=m.use,this.unuse=m.unuse,this.findPlugin=m.findPlugin,this.getCurrentUrl=y.getCurrentUrl,this.cleanupAnimationClasses=y.cleanupAnimationClasses,this.enable()}return i(e,[{key:"enable",value:function(){var e=this;"undefined"!=typeof Promise?(this.delegatedListeners.click=(0,r.default)(document,this.options.linkSelector,"click",this.linkClickHandler.bind(this)),window.addEventListener("popstate",this.boundPopStateHandler),this.options.cache,(0,y.markSwupElements)(document.documentElement,this.options.containers),this.options.plugins.forEach((function(t){e.use(t)})),window.history.replaceState(Object.assign({},window.history.state,{url:window.location.href,random:Math.random(),source:"swup"}),document.title,window.location.href),this.triggerEvent("enabled"),document.documentElement.classList.add("swup-enabled"),this.triggerEvent("pageView")):console.warn("Promise is not supported")}},{key:"destroy",value:function(){var e=this;this.delegatedListeners.click.destroy(),window.removeEventListener("popstate",this.boundPopStateHandler),this.cache.empty(),this.options.plugins.forEach((function(t){e.unuse(t)})),(0,v.queryAll)("[data-swup]").forEach((function(e){e.removeAttribute("data-swup")})),this.off(),this.triggerEvent("disabled"),document.documentElement.classList.remove("swup-enabled")}},{key:"linkClickHandler",value:function(e){if(e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)this.triggerEvent("openPageInNewTab",e);else if(0===e.button){this.triggerEvent("clickLink",e),e.preventDefault();var t=new y.Link(e.delegateTarget);if(t.getAddress()==(0,y.getCurrentUrl)()||""==t.getAddress())""!=t.getHash()?(this.triggerEvent("samePageWithHash",e),null!=(0,f.default)(t.getHash())?history.replaceState({url:t.getAddress()+t.getHash(),random:Math.random(),source:"swup"},document.title,t.getAddress()+t.getHash()):console.warn("Element for offset not found ("+t.getHash()+")")):this.triggerEvent("samePage",e);else{""!=t.getHash()&&(this.scrollToElement=t.getHash());var n=e.delegateTarget.getAttribute("data-swup-transition");this.loadPage({url:t.getAddress(),customTransition:n},!1)}}}},{key:"popStateHandler",value:function(e){if(!this.options.skipPopStateHandling(e)){var t=new y.Link(e.state?e.state.url:window.location.pathname);""!==t.getHash()?this.scrollToElement=t.getHash():e.preventDefault(),this.triggerEvent("popState",e),this.options.animateHistoryBrowsing||(document.documentElement.classList.remove("is-animating"),(0,y.cleanupAnimationClasses)()),this.loadPage({url:t.getAddress()},e)}}}]),e}();t.default=w},function(e,t,n){"use strict";n.r(t);const o=new WeakMap;function i(e,t,n,i){var r,a;if(!e&&!o.has(t))return!1;const s=null!==(r=o.get(t))&&void 0!==r?r:new WeakMap;if(o.set(t,s),!e&&!o.has(t))return!1;const l=null!==(a=s.get(n))&&void 0!==a?a:new Set;s.set(n,l);const u=l.has(i);return e?l.add(i):l.delete(i),u&&e}t.default=function e(t,n,o,r,a){if("string"==typeof t&&(t=document.querySelectorAll(t)),!function(e){return"function"==typeof e.addEventListener}(t)){const i=Array.prototype.map.call(t,(t=>e(t,n,o,r,a)));return{destroy(){for(const e of i)e.destroy()}}}const s=t instanceof Document?t.documentElement:t,l=Boolean("object"==typeof a?a.capture:a),u=e=>{const t=function(e,t){let n=e.target;if(n instanceof Text&&(n=n.parentElement),n instanceof Element&&e.currentTarget instanceof Element){const o=n.closest(t);if(o&&e.currentTarget.contains(o))return o}}(e,n);t&&(e.delegateTarget=t,r.call(s,e))};"object"==typeof a&&delete a.once;const c=JSON.stringify({selector:n,type:o,capture:l}),d={destroy(){s.removeEventListener(o,u,a),i(!1,s,r,c)}};return i(!0,s,r,c)||s.addEventListener(o,u,a),d}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cache=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),r=t.Cache=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pages={},this.last=null}return o(e,[{key:"cacheUrl",value:function(e){e.url=(0,i.normalizeUrl)(e.url),e.url in this.pages==0&&(this.pages[e.url]=e),this.last=this.pages[e.url],this.swup.log("Cache ("+Object.keys(this.pages).length+")",this.pages)}},{key:"getPage",value:function(e){return e=(0,i.normalizeUrl)(e),this.pages[e]}},{key:"getCurrentPage",value:function(){return this.getPage((0,i.getCurrentUrl)())}},{key:"exists",value:function(e){return(e=(0,i.normalizeUrl)(e))in this.pages}},{key:"empty",value:function(){this.pages={},this.last=null,this.swup.log("Cache cleared")}},{key:"remove",value:function(e){delete this.pages[e]}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.toString().toLowerCase().replace(/\s+/g,"-").replace(/\//g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");return"/"===t[0]&&(t=t.splice(1)),""===t&&(t="homepage"),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){window.history.pushState({url:e||window.location.href.split(window.location.hostname)[1],random:Math.random(),source:"swup"},document.title,e||window.location.href.split(window.location.hostname)[1])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);t.default=function(e,t){var n=document.createElement("html");n.innerHTML=e;var i=[];t.forEach((function(e){if(null==(0,o.query)(e,n))return console.warn("[swup] Container "+e+" not found on page."),null;(0,o.queryAll)(e).length!==(0,o.queryAll)(e,n).length&&console.warn("[swup] Mismatched number of containers found on new page."),(0,o.queryAll)(e).forEach((function(t,r){(0,o.queryAll)(e,n)[r].setAttribute("data-swup",i.length),i.push((0,o.queryAll)(e,n)[r].outerHTML)}))}));var r={title:(n.querySelector("title")||{}).innerText,pageClass:n.querySelector("body").className,originalContent:e,blocks:i};return n.innerHTML="",n=null,r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={url:window.location.pathname+window.location.search,method:"GET",data:null,headers:{}},i=o({},n,e),r=new XMLHttpRequest;return r.onreadystatechange=function(){4===r.readyState&&(r.status,t(r))},r.open(i.method,i.url,!0),Object.keys(i.headers).forEach((function(e){r.setRequestHeader(e,i.headers[e])})),r.send(i.data),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend?"webkitTransitionEnd":"transitionend"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend?"WebkitTransition":"transition"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return window.location.pathname+window.location.search}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(2));t.default=function(e){return new o.default(e).getAddress()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);t.default=function(e,t){var n=0;t.forEach((function(t){null==(0,o.query)(t,e)?console.warn("[swup] Container "+t+" not found on page."):(0,o.queryAll)(t).forEach((function(i,r){(0,o.queryAll)(t,e)[r].setAttribute("data-swup",n),n++}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){document.documentElement.className.split(" ").forEach((function(e){(new RegExp("^to-").test(e)||"is-changing"===e||"is-rendering"===e||"is-popstate"===e)&&document.documentElement.classList.remove(e)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=n(0);t.default=function(e,t){var n=this,r=[],a=void 0;this.triggerEvent("transitionStart",t),null!=e.customTransition?(this.updateTransition(window.location.pathname,e.url,e.customTransition),document.documentElement.classList.add("to-"+(0,i.classify)(e.customTransition))):this.updateTransition(window.location.pathname,e.url),!t||this.options.animateHistoryBrowsing?function(){if(n.triggerEvent("animationOutStart"),document.documentElement.classList.add("is-changing"),document.documentElement.classList.add("is-leaving"),document.documentElement.classList.add("is-animating"),t&&document.documentElement.classList.add("is-popstate"),document.documentElement.classList.add("to-"+(0,i.classify)(e.url)),r=n.getAnimationPromises("out"),Promise.all(r).then((function(){n.triggerEvent("animationOutDone")})),!t){var o;o=null!=n.scrollToElement?e.url+n.scrollToElement:e.url,(0,i.createHistoryRecord)(o)}}():this.triggerEvent("animationSkipped"),this.cache.exists(e.url)?(a=new Promise((function(t){t(n.cache.getPage(e.url))})),this.triggerEvent("pageRetrievedFromCache")):a=this.preloadPromise&&this.preloadPromise.route==e.url?this.preloadPromise:new Promise((function(t,r){(0,i.fetch)(o({},e,{headers:n.options.requestHeaders}),(function(o){if(500===o.status)return n.triggerEvent("serverError"),void r(e.url);var i=n.getPageData(o);null!=i&&i.blocks.length>0?(i.url=e.url,n.cache.cacheUrl(i),n.triggerEvent("pageLoaded"),t(i)):r(e.url)}))})),Promise.all([a].concat(r)).then((function(e){var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,i=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(e,1)[0];n.renderPage(o,t),n.preloadPromise=null})).catch((function(e){n.options.skipPopStateHandling=function(){return window.location=e,!0},window.history.go(-1)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=n(0);t.default=function(e,t){var n=this;if(document.documentElement.classList.remove("is-leaving"),this.getCurrentUrl()===e.url){var r=new i.Link(e.responseURL).getPath();window.location.pathname!==r&&(window.history.replaceState({url:r,random:Math.random(),source:"swup"},document.title,r),this.cache.cacheUrl(o({},e,{url:r}))),t&&!this.options.animateHistoryBrowsing||document.documentElement.classList.add("is-rendering"),this.triggerEvent("willReplaceContent",t);for(var a=0;a<e.blocks.length;a++)document.body.querySelector('[data-swup="'+a+'"]').outerHTML=e.blocks[a];if(document.title=e.title,this.triggerEvent("contentReplaced",t),this.triggerEvent("pageView",t),this.options.cache||this.cache.empty(),setTimeout((function(){t&&!n.options.animateHistoryBrowsing||(n.triggerEvent("animationInStart"),document.documentElement.classList.remove("is-animating"))}),10),!t||this.options.animateHistoryBrowsing){var s=this.getAnimationPromises("in");Promise.all(s).then((function(){n.triggerEvent("animationInDone"),n.triggerEvent("transitionEnd",t),n.cleanupAnimationClasses()}))}else this.triggerEvent("transitionEnd",t);this.scrollToElement=null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){this._handlers[e].forEach((function(e){try{e(t)}catch(e){console.error(e)}}));var n=new CustomEvent("swup:"+e,{detail:e});document.dispatchEvent(n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){this._handlers[e]?this._handlers[e].push(t):console.warn("Unsupported event "+e+".")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=this;if(null!=e)if(null!=t)if(this._handlers[e]&&this._handlers[e].filter((function(e){return e===t})).length){var o=this._handlers[e].filter((function(e){return e===t}))[0],i=this._handlers[e].indexOf(o);i>-1&&this._handlers[e].splice(i,1)}else console.warn("Handler for event '"+e+"' no found.");else this._handlers[e]=[];else Object.keys(this._handlers).forEach((function(e){n._handlers[e]=[]}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){this.transition={from:e,to:t,custom:n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);t.default=function(e){return e?("#"===e.charAt(0)&&(e=e.substring(1)),e=decodeURIComponent(e),e=(0,o.escapeCssIdentifier)(e),(0,o.query)("#"+e)||(0,o.query)("a[name='"+e+"']")):null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0);t.default=function(){var e=this.options.animationSelector,t=(0,i.transitionProperty)()+"Duration",n=[],r=(0,o.queryAll)(e,document.body);return r.length?(r.forEach((function(o){var r=window.getComputedStyle(o)[t];if(!r||"0s"==r)return console.warn("[swup] No CSS transition duration defined for element of selector "+e),void n.push(Promise.resolve());var a=new Promise((function(e){o.addEventListener((0,i.transitionEnd)(),(function(t){o==t.target&&e()}))}));n.push(a)})),n):(console.warn("[swup] No animated elements found by selector "+e),[Promise.resolve()])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.default=function(e){var t=e.responseText,n=(0,o.getDataFromHtml)(t,this.options.containers);return n?(n.responseURL=e.responseURL?e.responseURL:window.location.href,n):(console.warn("[swup] Received page is invalid."),null)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.use=function(e){if(e.isSwupPlugin)return this.plugins.push(e),e.swup=this,"function"==typeof e._beforeMount&&e._beforeMount(),e.mount(),this.plugins;console.warn("Not swup plugin instance "+e+".")},t.unuse=function(e){var t=void 0;if(t="string"==typeof e?this.plugins.find((function(t){return e===t.name})):e,t){t.unmount(),"function"==typeof t._afterUnmount&&t._afterUnmount();var n=this.plugins.indexOf(t);return this.plugins.splice(n,1),this.plugins}console.warn("No such plugin.")},t.findPlugin=function(e){return this.plugins.find((function(t){return e===t.name}))}}])},e.exports=t()}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";function e(e){const n=e=>{e.target.src="/images/placeholder.jpg",e.target.classList.add("placeholder"),e.target.removeEventListener("error",n)};if(e.querySelector(".card_top .excerpt img")){let o=e.querySelector(".card_top"),i=o.querySelector(".excerpt"),r=i.querySelector("img");r||(r=document.createElement("img")),r.setAttribute("loading","lazy"),r.addEventListener("error",n),o.replaceChild(t(r),i)}}function t(e){let t=e.style;if("IMG"===e.tagName)return["width","height"].forEach((n=>{e.hasAttribute(n)&&e.removeAttribute(n),t[n]&&(e.closest(".card")||t.setProperty(`max-${n}`,t[n]),t.removeProperty(n))})),e;for(const e of Object.keys(t)){if(["text-align"].includes(e))return;t.removeProperty(e)}return e}function o(e=document.querySelector("main")){const t=e=>{let t=e.data,n=document.createElement("span");return-1==t.indexOf("/")?(n.innerHTML=t,n):(t.split("//").forEach(((e,t)=>{let o=e.split("/");t>0&&n.insertAdjacentText("beforeend","//"),1==o.length?n.insertAdjacentText("beforeend",e.replace("/\n+/gi"," ")):o.forEach(((e,t)=>{t>0&&n.insertAdjacentHTML("beforeend","<wbr>/"),n.insertAdjacentText("beforeend",e.replace("/\n+/gi"," "))}))})),n)},n=e=>{if(-1!=e.textContent.indexOf("/")&&"FORM"!=e.tagName)for(let o of e.childNodes)switch(o.nodeType){case Node.ELEMENT_NODE:n(o);break;case Node.TEXT_NODE:if(o.data.trim().length>0){let n=t(o);e.replaceChild(n,o)}}};try{return n(e),!0}catch(e){return console.log(`${e}`),!1}}!function(){if(/\/(edit|new|sort|copy)(\/|$)/gi.test(window.location.pathname))return;document.querySelectorAll(".card").forEach(e),[...document.querySelectorAll(".blog-content a, .homepage-info-block a")].forEach((e=>{let t=e.getAttribute("href");/(womensprinthistoryproject\.com|dhil.lib.sfu.ca\/wphp)/gi.test(t)&&e.setAttribute("href",new URL(t).pathname)})),document.querySelectorAll("p").forEach((e=>{/[\w]/g.test(e.innerText)||""!==e.innerText.trim()||e.querySelector("img")||e.parentElement.removeChild(e)})),o();let n=document.querySelector(".blog-content");n&&(n.querySelectorAll("img").forEach(t),function(){const e=document.querySelector(".blog-content").children,t=/\s*Authored\s*by:\s*/gi,n=document.querySelector('meta[name="citation_title"]');let o=[...e].find((e=>t.test(e.innerText)));o&&o.innerText.trim().replace(t,"").replace(" and ",",").split(/,+\s*/gi).forEach((e=>{let t=e.split(/\s+/),o=[t.pop(),t.join(" ")];if(o.length>0){let e=`<meta name="citation_author" content="${o.join(", ")}"/>`;n.insertAdjacentHTML("beforebegin",e)}}))}())}();var i=window.CustomEvent;function r(e,t){var n="on"+t.type.toLowerCase();return"function"==typeof e[n]&&e[n](t),e.dispatchEvent(t)}function a(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement?e.parentElement:e.parentNode?e.parentNode.host:null}return null}function s(e){for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;e&&e.blur&&e!==document.body&&e.blur()}function l(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1}function u(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function c(e){var t=["button","input","keygen","select","textarea"].map((function(e){return e+":not([disabled])"}));t.push('[tabindex]:not([disabled]):not([tabindex=""])');var n=e.querySelector(t.join(", "));if(!n&&"attachShadow"in Element.prototype)for(var o=e.querySelectorAll("*"),i=0;i<o.length&&!(o[i].tagName&&o[i].shadowRoot&&(n=c(o[i].shadowRoot)));i++);return n}function d(e){return e.isConnected||document.body.contains(e)}function h(e){if(e.submitter)return e.submitter;var t=e.target;if(!(t instanceof HTMLFormElement))return null;var n=g.formSubmitter;if(!n){var o=e.target;n=("getRootNode"in o&&o.getRootNode()||document).activeElement}return n&&n.form===t?n:null}function f(e){if(!e.defaultPrevented){var t=e.target,n=g.imagemapUseValue,o=h(e);null===n&&o&&(n=o.value);var i=a(t);i&&"dialog"===(o&&o.getAttribute("formmethod")||t.getAttribute("method"))&&(e.preventDefault(),null!=n?i.close(n):i.close())}}function p(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),e.addEventListener("submit",f,!1),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window)new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]});else{var t,n=!1,o=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),i=function(i){if(i.target===e){n|="DOMNodeRemoved"===i.type.substr(0,14),window.clearTimeout(t),t=window.setTimeout(o,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach((function(t){e.addEventListener(t,i)}))}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("mouseup",this.backdropMouseEvent_.bind(this)),this.backdrop_.addEventListener("mousedown",this.backdropMouseEvent_.bind(this)),this.backdrop_.addEventListener("click",this.backdropMouseEvent_.bind(this))}i&&"object"!=typeof i||((i=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),n}).prototype=window.Event.prototype),p.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&d(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),g.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropMouseEvent_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var n=document.createEvent("MouseEvents");n.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(n),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),e||(e=c(this.dialog_)),s(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!d(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!g.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),n=function(e,n){return!(void 0===t[e]||t[e]===n)};if(t.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,g.needsCentering(this.dialog_)?(g.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e);var t=new i("close",{bubbles:!1,cancelable:!1});r(this.dialog_,t)}};var g={reposition:function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,n=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,n)+"px"},isInlinePositionSetByStylesheet:function(e){for(var t=0;t<document.styleSheets.length;++t){var n=document.styleSheets[t],o=null;try{o=n.cssRules}catch(e){}if(o)for(var i=0;i<o.length;++i){var r=o[i],a=null;try{a=document.querySelectorAll(r.selectorText)}catch(e){}if(a&&l(a,e)){var s=r.style.getPropertyValue("top"),u=r.style.getPropertyValue("bottom");if(s&&"auto"!==s||u&&"auto"!==u)return!0}}}return!1},needsCentering:function(e){return!("absolute"!==window.getComputedStyle(e).position||"auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom||g.isInlinePositionSetByStylesheet(e))},forceRegisterDialog:function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new p(e)},registerDialog:function(e){e.showModal||g.forceRegisterDialog(e)},DialogManager:function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver((function(t){var n=[];t.forEach((function(e){for(var t,o=0;t=e.removedNodes[o];++o)t instanceof Element&&("dialog"===t.localName&&n.push(t),n=n.concat(t.querySelectorAll("dialog")))})),n.length&&e(n)})))}};if(g.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},g.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},g.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,n=0;e=this.pendingDialogStack[n];++n)e.updateZIndex(--t,--t),0===n&&(this.overlay.style.zIndex=--t);var o=this.pendingDialogStack[0];o?(o.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},g.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=a(e);){for(var t,n=0;t=this.pendingDialogStack[n];++n)if(t.dialog===e)return 0===n;e=e.parentElement}return!1},g.DialogManager.prototype.handleFocus_=function(e){var t=e.composedPath?e.composedPath()[0]:e.target;if(!this.containedByTopDialog_(t)&&document.activeElement!==document.documentElement&&(e.preventDefault(),e.stopPropagation(),s(t),void 0!==this.forwardTab_)){var n=this.pendingDialogStack[0];return n.dialog.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?n.focus_():t!==document.documentElement&&document.documentElement.focus()),!1}},g.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var t=new i("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&r(n.dialog,t)&&n.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},g.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach((function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()}))},g.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t||(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),0))},g.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},g.dm=new g.DialogManager,g.formSubmitter=null,g.imagemapUseValue=null,void 0===window.HTMLDialogElement){var m=document.createElement("form");if(m.setAttribute("method","dialog"),"dialog"!==m.method){var v=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(v){var y=v.get;v.get=function(){return u(this)?"dialog":y.call(this)};var b=v.set;v.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):b.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",v)}}document.addEventListener("click",(function(e){if(g.formSubmitter=null,g.imagemapUseValue=null,!e.defaultPrevented){var t=e.target;if("composedPath"in e&&(t=e.composedPath().shift()||t),t&&u(t.form)){if(!("submit"===t.type&&["button","input"].indexOf(t.localName)>-1)){if("input"!==t.localName||"image"!==t.type)return;g.imagemapUseValue=e.offsetX+","+e.offsetY}a(t)&&(g.formSubmitter=t)}}}),!1),document.addEventListener("submit",(function(e){var t=e.target;if(!a(t)){var n=h(e);"dialog"===(n&&n.getAttribute("formmethod")||t.getAttribute("method"))&&e.preventDefault()}}));var w=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!u(this))return w.call(this);var e=a(this);e&&e.close()}}let _;const E=new DOMParser,k=document.body,S=class{constructor(e){this.selector=e,this.el=k,this.index=new Map,this.debug=!1,this.linkClass="modal-link",this.ignoreIndexes=!0,this.observerConfig={attributes:!0,childList:!1,subtree:!1},this.observer=new MutationObserver(this.checkDialog.bind(this)),this.active=!1,this.backdropClose=!0,this.filterParentsSelector=null,this.fetching=!1}get links(){let e=this.el.querySelectorAll(this.selector);return Array.from(e).filter(this.defaultLinkFilter.bind(this))}get dialogs(){let e=[];return this.index.forEach(((t,n,o)=>e.push(t))),[...e]}init(){_=this,window.Modals=this,this.log(this);for(const e of this.links)this.log(e),e.classList.add(this.linkClass),e.addEventListener("click",this.clickHandler.bind(this))}async clickHandler(e){this.caller=e.currentTarget;try{if(e.preventDefault(),this.fetching)return void console.log("Tried to fetch again, so blocking ");this.fetching=!0,this.current=await this.getDialog(this.caller),this.observer.observe(this.current,this.observerConfig),this.current.showModal(),this.fetching=!1}catch(e){this.errorHandler(e).bind(this)}}async getDialog(e){let t=this.modalURI(e);return new Promise(((e,n)=>{if(this.index.has(t))return e(this.index.get(t));fetch(t).then((e=>e.text())).then((n=>{let o=this.getDialogFromText(n);return this.processDialog(o),g.registerDialog(o),"function"!=typeof o.close&&(o.close=function(){o.querySelector("form[method='close']").submit()}),document.body.appendChild(o),this.index.set(t,o),e(o)})).catch(this.errorHandler.bind(this))}))}getDialogFromText(e){return E.parseFromString(e,"text/html").querySelector("dialog")}checkDialog(e){for(const t of e)"open"===t.attributeName&&(this.active=!this.active,this.toggle())}toggle(){k.classList.toggle("dialog-active"),this.caller.classList.toggle("active"),this.active?this.backdropClose&&k.addEventListener("click",this.bodyClickHandler,!0):(this.backdropClose&&k.removeEventListener("click",this.bodyClickHandler,!0),this.observer.disconnect(),this.caller=null)}bodyClickHandler(e){("object"==typeof e.path?e.path[0]:e.target)===_.current&&_.current.close()}defaultLinkFilter(e){return(null===this.filterParentsSelector||null===e.closest(this.filterParentsSelector))&&!("function"==typeof this.linkFilter&&(console.log(this.linkFilter(e)),!this.linkFilter(e)))&&/\d+\/?$/.test(e.getAttribute("href"))}processDialog(e){e.hasAttribute("open")&&e.removeAttribute("open")}modalURI(e){return e.getAttribute("href")+"/modal"}errorHandler(e){console.trace(e),window.location=this.caller.href}log(e){this.debug&&console.log(e)}},P=new DOMParser;let M;class A extends S{constructor(e){super(e)}citationType(e){return new URL(e.href).pathname.split("/").reverse()[0]}modalURI(e){return e.href}async getDialog(e){return this.index.has(this.modalURI(e))?new Promise(((t,n)=>t(this.index.get(this.modalURI(e))))):(this.tmpDialog=document.createElement("dialog"),document.body.appendChild(this.tmpDialog),M=this.citationType(e),this.tmpDialog.setAttribute("open",""),this.tmpDialog.innerHTML='<div class="loader-ctr"><div class="loader"></div></div>',super.getDialog(e))}getDialogFromText(e){let t=P.parseFromString(e,"text/html");return this.renderDialog(t)}defaultLinkFilter(e){let t=new URL(e.href);return!/csv$/gi.test(t.pathname)}renderDialog(e){let t=`\n        <header>\n            <div class="dialog-content">\n                <div class="dialog-heading">\n                    <div class="dialog-label">${M}</div>\n                    <h3>Titles</h3>\n                </div>\n                <div class="dialog-closer">\n                    <form method="dialog">\n                        <button class="btn">\n                            <svg viewBox="0 0 24 24" height="1rem" width="1rem">\n                                <line x1="0" x2="24" y1="0" y2="24"/>\n                                <line x1="24" x2="0" y1="0" y2="24"/>\n                            </svg>\n                            <span class="sr-only">Close</span>\n                        </button>\n                    </form>\n                </div>\n            </div>\n        </header>\n        <section class="dialog-body">\n            <div class="dialog-content">\n                ${e.querySelector(".list-group").outerHTML}\n            </div>\n        </section>`;return this.tmpDialog.innerHTML=t,this.tmpDialog}}const O=()=>{let e='a[href*="/export/"]',t=document.querySelectorAll(e);if(t&&t.length>0){let t=new A(e);t.debug=!1,t.init()}};O();class x{constructor(e="table"){this.query=e,this.tables=[]}init(){document.querySelectorAll(this.query).forEach(((e,t)=>{this.tables.push(new T(e,t))}))}}class T{constructor(e,t){console.log(this),this.table=e,this.pos=t,this.stylesheet=null,"TABLE"==this.table.tagName?this.init():console.log("Not a table, bailing")}get ariaRoles(){return{"tbody, thead, tfoot":"rowgroup",tr:"row",td:"cell","thead th":"columnheader","tbody tr th":"rowheader"}}get headers(){return[...this.table.querySelectorAll("thead th")].map((e=>e.innerText))}addARIA(){let e=this;const t=(e,t)=>{e.getAttribute("role")||e.setAttribute("role",t)};t(this.table,"table");for(const n in this.ariaRoles){const o=[...this.table.querySelectorAll(n)],i=e.ariaRoles[n];o.forEach((o=>{t(o,e.ariaRoles[n]),"cell"==i&&e.handleCell(o)}))}}handleCell(e){if(0==e.innerText.trim().length)e.classList.add("empty-cell");else{let t=`<div class="cell-content">${e.innerHTML}</div>`;e.innerHTML=t}this.headers.length>0&&e.setAttribute("data-value",this.headers[e.cellIndex])}init(){this.table.id||(this.table.id=`tbl_${this.pos}`),this.addARIA()}}var L=n(386),C=n.n(L),H=n(728),j=n.n(H);const D=new Map;function q(){let e=new x;return e.init(),e.tables.map((e=>e.table)).forEach((e=>{(e=>{const t=(e,t)=>{for(const t of e){let{target:e}=t;e.style.maxHeight=e.dataset.maxHeight}t.disconnect()};let n=e.closest(".tbl-overflow");if(n){let o=n.offsetHeight,i=e.offsetHeight;if(i<=o)return void(n.style.resize="none");n.style.height?n.style.maxHeight=i+3+"px":(n.dataset.maxHeight=i+"px",e.classList.add("resizable"),new MutationObserver(t).observe(n,{attributes:!0,attributesFilter:["style"]}))}})(e)})),e}document.querySelectorAll(".tbl-container").length>0&&(function(){const e=new(C())({containers:[".tbl-container"],linkSelector:".tbl-container .pagination a[href].page-link",plugins:[new(j())]}),t=function(){return e.options.containers.reduce(((e,t)=>e.concat([...document.querySelectorAll(t)])),[])};e.on("willReplaceContent",(function(){t().forEach((e=>{let t=e.querySelector(".tbl-overflow");t.style.height&&D.set(e.dataset.swup,t.style)}))})),e.on("pageView",(function(){t().forEach((e=>{if(D.has(e.dataset.swup)){let t=e.querySelector(".tbl-overflow"),n=D.get(e.dataset.swup);t.style.height=n.height}o(e)})),q(),O()}))}(),q(),new class{constructor(e=".sticky"){this.selector=e,this.sentinelCSS={position:"relative",left:0,right:0,height:"1px","margin-bottom":"-1px",visibility:"hidden"};try{this.init()}catch(e){console.log(`StickyElements: Error: ${e}`)}}get els(){return[...Array.from(document.querySelectorAll(this.selector))].filter((e=>"sticky"==window.getComputedStyle(e).position))}init(){0!==this.els.length?(this.setup(),this.listen()):console.log(`StickyElements: No elements found with selector ${this.selector}`)}setup(){this.addCSS();for(const e of this.els)this.observe(e)}addCSS(){let e=window.document.styleSheets,t=e[e.length-1],n=Object.entries(this.sentinelCSS).map((([e,t])=>`${e}:${t}`)).join(";");t.addRule(".sentinel",n)}observe(e){const t=this.addSentinel(e);new IntersectionObserver(((t,n)=>{for(const n of t){const t=n.boundingClientRect,o=n.rootBounds;t.bottom<o.top&&this.fire(!0,e),t.bottom>=o.top&&t.bottom<o.bottom&&this.fire(!1,e)}}),{threshold:[0],root:this._getScrollableParent(e)}).observe(t)}addSentinel(e){const t=document.createElement("div");t.classList.add("sentinel");let n=window.getComputedStyle(e);return t.style.top=`calc(-1* (${n.top} + ${n.height} + 1px))`,e.insertAdjacentElement("afterend",t)}listen(){document.addEventListener("sticky-change",this.stickyChangeListener)}stickyChangeListener(e){const[t,n]=[e.detail.target,e.detail.stuck];t.classList.toggle("stuck",n)}fire(e,t){const n=new CustomEvent("sticky-change",{detail:{stuck:e,target:t}});document.dispatchEvent(n)}_getScrollableParent(e){return e&&e!==document.body?this._isScrollable(e)?e:this._getScrollableParent(e.parentElement):null}_isScrollable(e){const t=e.scrollHeight>e.clientHeight,n=-1!==window.getComputedStyle(e).overflowY.indexOf("hidden");return t&&!n}}(".table > thead > tr"));class R{constructor(e){try{this.el=e,this.summary=e.querySelector("summary"),this.content=this.makeContent(),this.animation=null,this.state=[0],this.easing=this.getCustomProp("easing","ease-in-out"),this.duration=this.convertDuration(this.getCustomProp("duration","400").trim()),this.startHeight=null,this.endHeight=null,this.init()}catch(e){console.log(`${e}`)}}init(){this.el.setAttribute("aria-expanded",this.el.open),this.el.classList.add("accordion"),this.summary.addEventListener("click",(e=>this.onClick(e)))}getCustomProp(e,t){let n=`--accordion-${e}`;return getComputedStyle(this.el).getPropertyValue(n)||t}onClick(e){e.preventDefault(),this.el.style.overflow="hidden",this.el.style.pointerEvents="none",this.el.open?this.close():this.open()}makeContent(){let e=[...this.el.childNodes].filter((e=>!e.isSameNode(this.summary))),t=document.createElement("div");return t.classList.add("accordion__content"),e.forEach((e=>t.appendChild(e))),this.el.appendChild(t),t}open(){this.el.style.height=`${this.el.offsetHeight}px`,this.el.open=!0,window.requestAnimationFrame((()=>this.expand()))}close(){window.requestAnimationFrame((()=>this.shrink()))}expand(){this.state.push(1),this.startHeight=`${this.el.offsetHeight}px`,this.endHeight=`${this.summary.offsetHeight+this.content.offsetHeight}px`,this.el.setAttribute("aria-expanded","true"),this.animate()}shrink(){this.state.push(-1),this.startHeight=`${this.el.offsetHeight}px`,this.endHeight=`${this.summary.offsetHeight}px`,this.el.setAttribute("aria-expanded","false"),this.animate()}animate(){this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[this.startHeight,this.endHeight]},{duration:this.duration,easing:this.easing}),this.animation.onfinish=()=>this.onAnimationFinish(),this.animation.oncancel=()=>this.state.slice(0,1)}onAnimationFinish(){this.el.open=this.state[1]>0,this.animation=null,this.state=[0],this.startHeight=this.endHeight=null,this.el.style.height=this.el.style.overflow="",this.el.style.pointerEvents="auto"}convertDuration(e){if(/[\d]s$/g.test(e))return 1e3*parseFloat(e);parseInt(e,10)}}[...document.querySelectorAll("details")].map((e=>new R(e)))})()})();
//# sourceMappingURL=main.js.map